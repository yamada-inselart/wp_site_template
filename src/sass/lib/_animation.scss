@charset "utf-8";

/*----------------------------------------------------

	アニメーション

----------------------------------------------------*/

//1小節のms
$r4: 60 / $BPM * 4 * 1000;

//16分
$r4__16: $r4 / 16; 
//3連
$r4__12: $r4 / 12;
//2拍3連
$r4__6: $r4 / 6;

//16分

//1拍目
$r4__1_1: $r4__16 * 0;
$r4__1_2: $r4__16 * 1;
$r4__1_3: $r4__16 * 2;
$r4__1_4: $r4__16 * 3;
//2拍目
$r4__2_1: $r4__16 * 4;
$r4__2_2: $r4__16 * 5;
$r4__2_3: $r4__16 * 6;
$r4__2_4: $r4__16 * 7;
//3拍目
$r4__3_1: $r4__16 * 8;
$r4__3_2: $r4__16 * 9;
$r4__3_3: $r4__16 * 10;
$r4__3_4: $r4__16 * 11;
//4拍目
$r4__4_1: $r4__16 * 12;
$r4__4_2: $r4__16 * 13;
$r4__4_3: $r4__16 * 14;
$r4__4_4: $r4__16 * 15;


//3連

//1拍目
$r3__1_1: $r4__12 * 0;
$r3__1_2: $r4__12 * 1;
$r3__1_3: $r4__12 * 2;
//2拍目
$r3__2_1: $r4__12 * 3;
$r3__2_2: $r4__12 * 4;
$r3__2_3: $r4__12 * 5;
//3拍目
$r3__3_1: $r4__12 * 6;
$r3__3_2: $r4__12 * 7;
$r3__3_3: $r4__12 * 8;
//4拍目
$r3__4_1: $r4__12 * 9;
$r3__4_2: $r4__12 * 10;
$r3__4_3: $r4__12 * 11;


//2拍3連

//1, 2拍目
$r23__1_1: $r4__6 * 0;
$r23__1_2: $r4__6 * 1;
$r23__1_3: $r4__6 * 2;
//3, 4拍目
$r23__2_1: $r4__6 * 3;
$r23__2_2: $r4__6 * 4;
$r23__2_3: $r4__6 * 5;


// 視覚化メトロノーム
.metronome {
  background: red;
  -webkit-border-radius: 5px;
          border-radius: 5px;
  -webkit-box-shadow: 0px 0px 2.5px red;
          box-shadow: 0px 0px 2.5px red;
  height: 10px;
  width: 60px;
  
  position: fixed;
  top: 15px;
  left: 15px;
  
  &.active {
    animation: rhythm #{$r4__16*4}ms infinite;
    &.metronome-4 {
      animation: rhythm #{$r4__16*4}ms infinite;
    }
    &.metronome-2 {
      animation: rhythm #{$r4__16*8}ms infinite;
    }
    &.metronome-8 {
      animation: rhythm #{$r4__16*2}ms infinite;
    }   
  }
}
@keyframes rhythm {
  0% {
    opacity: 1;
  }
  50% {
    opacity: 0.1;
  }
  75% {
    opacity: 0;
  }
  99% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}
